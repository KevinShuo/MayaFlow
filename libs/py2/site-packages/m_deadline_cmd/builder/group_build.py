# -*- coding: utf-8 -*-
import subprocess
from typing import List, Optional

from m_deadline_cmd.base import DeadlineCmdBase


class GroupBuilder(DeadlineCmdBase):
    def __init__(self):
        super().__init__()

    @property
    def groups(self) -> Optional[List[str]]:
        process = subprocess.run([self.deadline_command, "GetGroupNames"], capture_output=True, text=True,
                                 creationflags=subprocess.CREATE_NO_WINDOW)
        group_data = process.stdout
        if not group_data:
            return
        return group_data.splitlines()
