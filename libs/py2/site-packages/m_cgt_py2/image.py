# -*- coding: utf-8 -*-

class CGTImage(object):
    def __init__(self, login_strategy):
        self.t_tw = login_strategy.login()

    def download(self, server_path, local_path):
        try:
            import py310lib.ctlib as ctlib
        except:
            import py3lib.ctlib as ctlib
        t_http_ip = self.t_tw.login.http_server_ip()
        t_token = self.t_tw.login.token()
        t_http = ctlib.http(t_http_ip, t_token)
        server = f"https://{t_http_ip}{server_path}&token={t_token}"
        t_result = t_http.download(server_path, local_path)
