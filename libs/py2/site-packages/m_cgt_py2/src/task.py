# -*- coding: utf-8 -*-
class CGTTask(object):
    def __init__(self, project_db, task_id, login_strategy, module):
        self.project_db = project_db
        self.task_id = task_id
        self.t_tw = login_strategy.login()
        self.module = module

    @property
    def versions(self):
        version_id_lists = self.t_tw.version.get_id(self.project_db, [["#link_id", "=", self.task_id]])
        if not version_id_lists:
            return None
        fields = self.t_tw.version.fields(self.project_db)
        return self.t_tw.version.get(self.project_db, version_id_lists, fields)

    @property
    def notes(self):
        note_id_list = self.t_tw.note.get_id(self.project_db, [["#link_id", "=", self.task_id]])
        if not note_id_list:
            return None
        fields = self.t_tw.note.fields(self.project_db)
        return self.t_tw.note.get(self.project_db, note_id_list, fields)
